# ChatOutline 快速开始指南

## 🚀 5分钟快速开始

### 步骤 1: 安装依赖

```bash
npm install
```

### 步骤 2: 准备图标（可选）

创建或下载三个图标文件，放置到 `public/icons/` 目录：
- icon-16.png
- icon-48.png
- icon-128.png

**临时方案**：如果暂时没有图标，可以先注释掉 `manifest.json` 中的 `icons` 和 `action.default_icon` 配置。

### 步骤 3: 构建项目

```bash
npm run build
```

构建完成后，`dist` 目录会包含所有打包好的文件。

### 步骤 4: 加载到浏览器

1. 打开 Chrome 或 Edge 浏览器
2. 地址栏输入：
   - Chrome: `chrome://extensions/`
   - Edge: `edge://extensions/`
3. 开启右上角的「**开发者模式**」
4. 点击「**加载已解压的扩展程序**」
5. 选择项目的 `dist` 目录

### 步骤 5: 测试插件

1. 访问 https://chatgpt.com（或其他支持的平台）
2. 开始一段对话，发送几条消息
3. 点击右下角的紫色悬浮按钮
4. 查看对话大纲面板

## 🔍 故障排查

### 插件加载失败

**问题**: 无法加载插件到浏览器

**解决方案**:
1. 确保已运行 `npm run build`
2. 确认 `dist` 目录存在且包含 `manifest.json`
3. 检查浏览器控制台的错误信息

### 悬浮按钮不显示

**问题**: 打开 ChatGPT 后看不到悬浮按钮

**解决方案**:
1. 刷新页面（Ctrl+R / Cmd+R）
2. 打开浏览器开发者工具（F12）
3. 查看 Console 标签，搜索 `[ChatOutline]` 日志
4. 检查是否有错误信息

### 大纲为空

**问题**: 点击悬浮按钮后，大纲显示"暂无对话消息"

**解决方案**:
1. 确保已经发送了至少一条消息
2. 等待1-2秒让页面完全加载
3. 检查控制台日志，查看是否有 "找到用户消息数" 的日志
4. 如果消息数为 0，可能是平台的 DOM 结构已变化，需要更新 `parser.ts` 中的选择器

### Gemini/豆包不工作

**问题**: 在 Gemini 或豆包上无法正常使用

**原因**: 这些平台的 DOM 结构可能与代码中的选择器不匹配

**解决方案**:
1. 打开对应平台的页面
2. 按 F12 打开开发者工具
3. 使用元素选择器（Elements 标签）查找用户消息的元素
4. 记录元素的 class 或 data 属性
5. 更新 `src/content/parser.ts` 中对应平台的选择器

## 🛠️ 开发模式

如果你需要修改代码并实时查看效果：

```bash
# 启动开发模式（热重载）
npm run dev
```

然后在浏览器中：
1. 进入扩展管理页面
2. 点击插件的「重新加载」按钮
3. 刷新测试页面

## 📝 下一步

- [ ] 自定义图标设计
- [ ] 测试所有支持的平台
- [ ] 根据实际使用调整样式
- [ ] 添加更多功能（搜索、导出等）

## 💡 提示

- 修改样式：编辑 `src/content/styles.css`
- 修改功能：编辑 `src/content/outline.ts`
- 添加新平台：在 `src/utils/platform-detector.ts` 和 `src/content/parser.ts` 中添加
